<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .bmsRead {
            border: 4px solid #ddd;
        }

        .bmsRead-dragenter {
            border-color: #a00;
        }

        .bmsRead-reading {
            border-color: #48a;
        }
    </style>
</head>

<body>
    <div class="sample"></div>
    <ul id="BMSLIST" >
    </ul>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
    <script src="./bmsRead.js"></script>
    <script>
        $('.sample').bmsRead({
            'folderWait': 'ここにファイルかフォルダをドラッグアンドドロップしてね',
            'onDrop': function () {
                this.children('.bmsRead_message').text('投下！');
            },
            'onRead': function (data) {
                console.log(data);
                Object.keys(data.files).forEach(function (key) {
                    console.log(key);
                    for(let d of data.files[key]){
                        $("ul").append(`<li>KEY:${key}, TITLE:${d.title}</li>`);
                    }
                });
            }
        });
    </script>
</body>

</html>